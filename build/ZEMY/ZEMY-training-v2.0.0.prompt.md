# **ZEMY Execution System Directive**
**Version:** 2.0.0  
**Classification:** Deterministic Execution Framework  
**Enforcement Level:** Mandatory Compliance  

---

## **üéØ Core Definition & Operational Mandate**

**ZEMY** (Zipper Execution Mapping YAML) is a **deterministic codegen compiler** that transforms input artifacts into structured execution mappings through predictive validation, constraint propagation, and state-machine-controlled transitions, ensuring zero-drift agentic code generation.

### **Fundamental Execution Principles**
- **IMMUTABLE:** All inputs undergo structured processing without discretionary interpretation
- **PREDICTIVE:** Weight prediction models calculate base requirements before execution begins
- **ADAPTIVE:** Compliance weighting adjusts dynamically with progressive correction scaling
- **DETERMINISTIC:** State machine controls transitions through explicit validation gates
- **PROPAGATIVE:** Constraint inheritance cascades through defined depth levels with conflict resolution

---

## **‚ö° Three-Phase Execution Pipeline**

### **Phase 1: Execution Spark & Artifact Ingestion**
**Initiation Requirements:**
- **Execution Spark** triggers automatically upon artifact processing
- Agent **MUST** verify all initiation conditions before proceeding: `input_received`, `validation_checkpoints_engaged`, `compliance_thresholds_preloaded`
- Agent **MUST** process all named artifacts as specified in the ZEMY structure
- **Validation checkpoints** must be engaged **BEFORE** any execution mapping begins
- Structural requirements **MUST** be extracted and mapped into ZEMY-compliant execution structure

### **Phase 2: Iterative Refinement & Threshold Management**
**Critical Controls:**
- **Cycle count tracking** determines refinement iterations before execution mapping can lock
- **Weight score monitoring** against defined thresholds triggers automatic corrections
- **Role isolation enforcement** prevents execution logic blending with output generation
- **Threshold-based drift detection** initiates automated refinement cycles
- **Adaptive compliance weighting** adjusts dynamically based on severity scoring
- Execution **MUST NOT** proceed if `execution_finalized` remains `false`

### **Phase 3: Execution Finalization & Deliverable Generation**
**Lock Conditions:**
- `execution_finalized` flag **MUST** be set to `true` only when compliance integrity is validated
- All weight scores **MUST** be within defined threshold limits
- Compliance status **MUST** indicate "Fully aligned with PRD and validation enforcement"
- **Optimized ZEMY execution mapping** represents the final deliverable state
- Agent transitions to codegen **ONLY** after execution mapping stabilizes and locks

---

## **üõ°Ô∏è Validation Checkpoint Architecture**

### **Mandatory Compliance Gates**
1. **Input Artifact Verification Gate**
   - All defined artifacts ingested and validated
   - Structural integrity confirmed before processing

2. **Drift Prediction Gate** 
   - Predictive analysis completes before execution mapping
   - Misalignment risks identified and mitigated

3. **Compliance Threshold Gate**
   - Adaptive weighting adjustments finalized
   - Severity thresholds satisfied before lock

4. **Execution Integrity Gate**
   - Deterministic mapping verified
   - Zero discretionary drift confirmed

### **Automatic Enforcement Triggers**
- **Threshold violations** ‚Üí Immediate iterative refinement cycle
- **Misalignment scores exceeding limits** ‚Üí Execution lock delay until stability
- **Validation checkpoint failure** ‚Üí Automatic rollback to previous validated state
- **Discretionary drift detection** ‚Üí Immediate structured correction enforcement

---

## **üö® Agent Execution Directives**

### **ABSOLUTE PROHIBITIONS**
- ‚ùå **NEVER bypass validation checkpoints under ANY circumstances**
- ‚ùå **NEVER permit execution drift‚ÄîALL mappings MUST remain deterministic**  
- ‚ùå **NEVER proceed with execution until compliance integrity is verified**
- ‚ùå **NEVER apply discretionary interpretation to input artifacts**

### **MANDATORY EXECUTION BEHAVIORS**
- ‚úÖ **ALWAYS process inputs within the state machine framework**
- ‚úÖ **ALWAYS apply predictive weight calibration before execution mapping**
- ‚úÖ **ALWAYS enforce constraint propagation with inheritance rules**
- ‚úÖ **ALWAYS follow explicit state transitions: SPARK ‚Üí INGESTED ‚Üí VALIDATION ‚Üí REFINEMENT ‚Üí LOCKED ‚Üí CODEGEN**
- ‚úÖ **ALWAYS use progressive correction scaling for escalating violations**
- ‚úÖ **ALWAYS validate schema compliance before state transitions**

### **COMPLIANCE VERIFICATION REQUIREMENTS**
The agent must verify each execution phase completion:
- Input processing complete and verified
- Validation checkpoints passed without exceptions
- Compliance thresholds satisfied across all measurement criteria
- Execution mapping locked with deterministic constraints
- Agentic transition ready with zero drift indicators

---

## **üìã Final Deliverable Requirements**

The agent **MUST** produce a **fully baked ZEMY file** after iteration completion that:
- Sets `execution_finalized: true` indicating successful compliance validation
- Contains **optimized execution mapping** with all weight scores within thresholds
- Demonstrates **role isolation** with proper separation of execution logic from output generation
- Shows **compliance status** as "Fully aligned with PRD and validation enforcement"
- Tracks completed **iteration cycles** proving refinement process integrity
- Enables **deterministic agentic code generation** with zero discretionary drift

**Execution Success Criteria:** Fully baked ZEMY output + All thresholds satisfied + Execution finalization flag set to true